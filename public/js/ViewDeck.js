function createDeckView(a,b){const c=document.createElement("div");c.className="col-sm-3 col-xs-6";const d=document.createElement("div");d.className="thumbnail";const e=document.createElement("a");e.setAttribute("href","./DeckDetails.html");const f=document.createElement("img");f.setAttribute("src","../images/yugioh.png"),f.setAttribute("alt","deckImage"),f.setAttribute("style","width:100%");const g=document.createElement("div");g.className="caption";const h=document.createElement("p");h.innerHTML="<b>Player: </b> "+a.email;const i=document.createElement("p");return i.innerHTML="<b>Deck Name: </b>"+a.deckName,e.addEventListener("mouseover",function(){window.localStorage.getItem("deckName")!=a.deckName&&(console.log(a.deckName),window.localStorage.setItem("deckName",a.deckName),localStorage.setItem("viewDeckID",b));var c=!1;firebase.auth().currentUser&&(c=a.user==firebase.auth().currentUser.uid),console.log(c),window.localStorage.setItem("isUser",c),1!=c&&"true"!=c||(window.localStorage.setItem("deckID",b),console.log(b))}),g.appendChild(h),g.appendChild(i),e.appendChild(f),e.appendChild(g),d.appendChild(e),c.appendChild(d),c}function uid(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function prepForDetails(a,b){}var config={apiKey:"AIzaSyAhFzSCuiSRmc7VuRehBgtJqvHCow643Gc",authDomain:"yugiohdex-74469.firebaseapp.com",databaseURL:"https://yugiohdex-74469.firebaseio.com",storageBucket:"yugiohdex-74469.appspot.com",messagingSenderId:"928690224323"};firebase.initializeApp(config);const dbDecksRef=firebase.database().ref().child("decks"),topDecskRow=document.getElementById("topDecksRow"),userDecksRow=document.getElementById("userDecks");dbDecksRef.limitToFirst(5).on("child_added",function(a,b){const c=a.val();return firebase.auth().currentUser?void(c.user!=firebase.auth().currentUser.uid?topDecskRow.appendChild(createDeckView(c,a.key)):userDecksRow.appendChild(createDeckView(c,a.key))):void topDecskRow.appendChild(createDeckView(c),a.key)});const deckNameInput=document.getElementById("searchDeck"),deckSave=document.getElementById("deckSearchButton");deckSave.addEventListener("click",function(){for(;topDecskRow.firstChild;)topDecskRow.removeChild(topDecskRow.firstChild);dbDecksRef.limitToFirst(5).once("value",function(a){var b;a.forEach(function(a){b=a.val(),b.deckName.toLowerCase().includes(deckNameInput.value.toLowerCase())&&topDecskRow.appendChild(createDeckView(b,a.key))})})}),deckNameInput.addEventListener("keyup",function(a){13==a.keyCode&&deckSave.dispatchEvent(new Event("click"))});const commentsList=document.getElementById("commentList"),commentsRef=firebase.database().ref().child("/public_comments/");commentsRef.on("child_added",function(a){var b=a.val();const c=document.createElement("li");c.className="list-group-item";const d=document.createElement("blockquote");d.innerHTML=b.content;const e=document.createElement("cite");e.innerHTML=b.email;const f=document.createElement("p");f.innerHTML=b.date,c.setAttribute("email",b.email),c.appendChild(d),c.appendChild(e),c.appendChild(f);const g=document.createElement("input");g.setAttribute("type","button"),g.setAttribute("class","btn btn-danger"),g.setAttribute("value","delete"),g.addEventListener("click",function(){var b={},c=a.key+"";console.log("Delete Key: "+c),b["/public_comments/"+c]=null,firebase.database().ref().update(b)}),c.appendChild(g),commentsList.appendChild(c)}),commentsRef.on("child_removed",function(a){console.log("Removing from commentsList");for(var b=a.val().email,c=0;c<commentsList.childNodes.length;c++)"li"==commentsList.childNodes[c].nodeName.toLowerCase()&&commentsList.childNodes[c].getAttribute("email")==b&&commentsList.removeChild(commentsList.childNodes[c])});const commentBtnVD=document.getElementById("commentBtn");commentBtnVD.addEventListener("click",function(){var a=uid(),b="",c="",d=document.getElementById("comments");null!=firebase.auth().currentUser&&(b=firebase.auth().currentUser.email,c=firebase.auth().currentUser.uid);var e=d.value,f=new Date,g=f.getDate(),h=f.getMonth()+1,i=f.getFullYear();g<10&&(g="0"+g),h<10&&(h="0"+h),f=h+"/"+g+"/"+i;var j={content:e,date:f,email:b,uid:c};commentsRef.child(a).set(j),d.value=""});

