var isTCG=!0,isMonster=!0,isMagic=!1;const cardSelect=document.getElementById("card_type");cardSelect.addEventListener("change",function(){var e=document.getElementById("card_name").value,d=document.getElementById("attack_pt").value,f=document.getElementById("defense_pt").value;if("Spell"==cardSelect.value){if(isMagic=!0,isMonster=!1,""!=e||""!=d||""!=f){return}for(;searchRow.firstChild;){searchRow.removeChild(searchRow.firstChild)}dbCardsRef.once("value",function(b){b.forEach(function(g){const c=g.val();1==c.isMagic&&c.isTCG==isTCG&&displaySearchCardGrid(c)})})}else{if("Trap"==cardSelect.value){if(isMagic=!1,isMonster=!1,""!=e||""!=d||""!=f){return}for(;searchRow.firstChild;){searchRow.removeChild(searchRow.firstChild)}dbCardsRef.once("value",function(b){b.forEach(function(g){const c=g.val();0==c.isMagic&&0==c.isMonster&&c.isTCG==isTCG&&displaySearchCardGrid(c)})})}else{if(isMagic=!1,isMonster=!0,""!=e||""!=d||""!=f){return}for(;searchRow.firstChild;){searchRow.removeChild(searchRow.firstChild)}dbCardsRef.once("value",function(b){b.forEach(function(g){const c=g.val();1==c.isMonster&&c.isTCG==isTCG&&displaySearchCardGrid(c)})})}}});const formatSelect=document.getElementById("card_format");formatSelect.addEventListener("change",function(){var e=document.getElementById("card_name").value,d=document.getElementById("attack_pt").value,f=document.getElementById("defense_pt").value;if("TCG"==formatSelect.value){if(isTCG=!0,""!=e||""!=d||""!=f){return}for(;searchRow.firstChild;){searchRow.removeChild(searchRow.firstChild)}cardSelect.dispatchEvent(new Event("change"))}else{if("OCG"==formatSelect.value){if(isTCG=!1,""!=e||""!=d||""!=f){return}for(;searchRow.firstChild;){searchRow.removeChild(searchRow.firstChild)}cardSelect.dispatchEvent(new Event("change"))}}});const searchButton=document.getElementById("search_btn");searchButton.addEventListener("click",function(){var e=document.getElementById("card_name").value,d=document.getElementById("attack_pt").value,f=document.getElementById("defense_pt").value;dbCardsRef.once("value",function(a){for(;searchRow.firstChild;){searchRow.removeChild(searchRow.firstChild)}a.forEach(function(c){var b=c.val();""!=e&&""!=d&&""!=f?b.name.toLowerCase().includes(e.toLowerCase())&&parseInt(b.attack)==d&&parseInt(b.defense)==f&&(isMonster&&1==b.isMonster||!isMonster&&0==b.isMonster)&&(isMagic&&1==b.isMagic||!isMagic&&0==b.isMagic)&&displaySearchCardGrid(b):""!=e&&""!=d&&""==f?b.name.toLowerCase().includes(e.toLowerCase())&&b.attack==d&&(isMonster&&1==b.isMonster||!isMonster&&0==b.isMonster)&&(isMagic&&1==b.isMagic||!isMagic&&0==b.isMagic)&&displaySearchCardGrid(b):""!=e&&""==d&&""!=f?b.name.toLowerCase().includes(e.toLowerCase())&&b.defense==f&&(isMonster&&1==b.isMonster||!isMonster&&0==b.isMonster)&&(isMagic&&1==b.isMagic||!isMagic&&0==b.isMagic)&&displaySearchCardGrid(b):""!=e&&""==d&&""==f?b.name.toLowerCase().includes(e.toLowerCase())&&(isMonster&&1==b.isMonster||!isMonster&&0==b.isMonster)&&(isMagic&&1==b.isMagic||!isMagic&&0==b.isMagic)&&displaySearchCardGrid(b):""==e&&""!=d&&""!=f?b.attack==d&&b.defense==f&&(isMonster&&1==b.isMonster||!isMonster&&0==b.isMonster)&&(isMagic&&1==b.isMagic||!isMagic&&0==b.isMagic)&&displaySearchCardGrid(b):""==e&&""!=d&&""==f?b.attack==d&&(isMonster&&1==b.isMonster||!isMonster&&0==b.isMonster)&&(isMagic&&1==b.isMagic||!isMagic&&0==b.isMagic)&&displaySearchCardGrid(b):""==e&&""==d&&""!=f&&b.defense==f&&(isMonster&&1==b.isMonster||!isMonster&&0==b.isMonster)&&(isMagic&&1==b.isMagic||!isMagic&&0==b.isMagic)&&displaySearchCardGrid(b)})})});const cardNameInput=document.getElementById("card_name");cardNameInput.addEventListener("keyup",function(b){13==b.keyCode&&searchButton.dispatchEvent(new Event("click"))});const attackInput=document.getElementById("attack_pt");attackInput.addEventListener("keyup",function(b){13==b.keyCode&&searchButton.dispatchEvent(new Event("click"))});const defenseInput=document.getElementById("defense_pt");defenseInput.addEventListener("keyup",function(b){13==b.keyCode&&searchButton.dispatchEvent(new Event("click"))});